<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SHED Framework</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Courier New', monospace;
            background: #e8e4dc;
            color: #1a1a1a;
            overflow-x: hidden;
        }

        .frame {
            display: grid;
            grid-template-columns: 60px 1fr 60px;
            min-height: 100vh;
            gap: 0;
        }

        .alley {
            background: #e8e4dc;
            position: relative;
        }

        .alley-left {
            border-right: 3px solid #1a1a1a;
            display: flex;
            flex-direction: column;
            padding: 8px;
        }

        .alley-right {
            border-left: 3px solid #1a1a1a;
            display: flex;
            flex-direction: column;
            padding: 8px;
        }

        .control-surface {
            width: 44px;
            height: 44px;
            border: 3px solid #1a1a1a;
            background: #e8e4dc;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 10px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.2s;
            margin-bottom: 8px;
            line-height: 1.1;
            text-align: center;
        }

        .control-surface:hover {
            background: #d8d4cc;
        }

        .control-surface.active {
            background: #1a1a1a;
            color: #e8e4dc;
        }

        .control-spacer {
            flex: 1;
        }

        .content-area {
            padding: 20px;
            max-width: 1400px;
            margin: 0 auto;
            width: 100%;
        }

        .axis-selector {
            background: #f5f3ed;
            border: 3px solid #1a1a1a;
            margin-bottom: 20px;
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .axis-title {
            font-size: 24px;
            font-weight: bold;
            letter-spacing: 4px;
        }

        .axis-label {
            font-size: 11px;
            color: #666;
        }

        .phases-container {
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px;
        }

        @media (min-width: 1200px) {
            .phases-container.side-by-side {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        .phase {
            background: #f5f3ed;
            border: 3px solid #1a1a1a;
            display: flex;
            flex-direction: column;
        }

        .phase.hidden {
            display: none;
        }

        .phase-header {
            background: #e8e4dc;
            padding: 20px;
            border-bottom: 3px solid #1a1a1a;
        }

        .phase-title {
            font-size: 24px;
            font-weight: bold;
            letter-spacing: 6px;
            margin-bottom: 5px;
        }

        .phase-subtitle {
            font-size: 12px;
            color: #4a4a4a;
        }

        .phase-content {
            display: grid;
            grid-template-columns: 100px 1fr;
            flex: 1;
        }

        .identity-column {
            border-right: 3px solid #1a1a1a;
            padding: 20px 15px;
            display: flex;
            flex-direction: column;
            align-items: center;
            background: #f5f3ed;
        }

        .identity-text {
            writing-mode: vertical-rl;
            text-orientation: mixed;
            font-size: 16px;
            font-weight: bold;
            letter-spacing: 3px;
            margin-bottom: 15px;
        }

        .time-label {
            font-size: 10px;
            font-weight: bold;
            margin-top: auto;
        }

        .cards-grid {
            display: grid;
            grid-template-rows: 1fr 1fr;
            min-height: 300px;
        }

        .card {
            padding: 20px;
            cursor: pointer;
            transition: background 0.2s;
            position: relative;
            display: flex;
            flex-direction: column;
        }

        .card.hidden {
            display: none;
        }

        .card:first-child {
            border-bottom: 3px solid #1a1a1a;
        }

        .card:hover {
            background: #fefdfb;
        }

        .card.expanded {
            background: #fff;
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 8px;
        }

        .card-title {
            font-size: 16px;
            font-weight: bold;
            letter-spacing: 2px;
        }

        .card-label {
            font-size: 10px;
            font-weight: bold;
            color: #666;
        }

        .card-main {
            font-size: 14px;
            font-weight: bold;
            margin-bottom: 8px;
            line-height: 1.3;
        }

        .card-detail {
            font-size: 12px;
            color: #666;
            display: flex;
            align-items: center;
        }

        .bullet {
            width: 5px;
            height: 5px;
            background: #666;
            border-radius: 50%;
            margin-right: 6px;
            flex-shrink: 0;
        }

        .card-expanded-content {
            margin-top: 12px;
            padding-top: 12px;
            border-top: 2px solid #e8e4dc;
            display: none;
            flex: 1;
        }

        .card.expanded .card-expanded-content {
            display: flex;
            flex-direction: column;
        }

        .input-area {
            display: flex;
            flex-direction: column;
            flex: 1;
        }

        .input-area textarea {
            width: 100%;
            flex: 1;
            min-height: 80px;
            padding: 10px;
            border: 2px solid #1a1a1a;
            background: #fefdfb;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            resize: vertical;
        }

        .input-area textarea:focus {
            outline: none;
            background: #fff;
        }

        .corner-control {
            position: fixed;
            width: 44px;
            height: 44px;
            border: 3px solid #1a1a1a;
            background: #e8e4dc;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            transition: background 0.2s;
            z-index: 1000;
        }

        .corner-control:hover {
            background: #d8d4cc;
        }

        .corner-control.top-left { top: 8px; left: 8px; }
        .corner-control.top-right { top: 8px; right: 8px; }

        @media (max-width: 768px) {
            .phase-content {
                grid-template-columns: 70px 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="corner-control top-left" onclick="resetAll()">â‰¡</div>
    <div class="corner-control top-right" onclick="toggleLayout()">âŠž</div>
    <div class="corner-control" style="bottom: 20px; left: 20px; font-size: 22px;" 
         onclick="window.open('func-orb-training.html', '_blank')"
         title="Open Interactive Training Ground">ðŸŽ®</div>

    <div class="frame">
        <!-- LEFT ALLEY - AXIS CONTROLS -->
        <div class="alley alley-left">
            <div class="control-surface active" onclick="switchAxis('IDENTITY')" data-axis="IDENTITY">ID</div>
            <div class="control-surface" onclick="switchAxis('EXPERIENCE')" data-axis="EXPERIENCE">EXP</div>
            <div class="control-surface" onclick="switchAxis('LANGUAGE')" data-axis="LANGUAGE">LANG</div>
            <div class="control-surface" onclick="switchAxis('DOMAIN')" data-axis="DOMAIN">DOM</div>
            <div class="control-surface" onclick="switchAxis('PURPOSE')" data-axis="PURPOSE">PURP</div>
            <div class="control-surface" onclick="switchAxis('ORDER')" data-axis="ORDER">ORD</div>
        </div>

        <!-- MAIN CONTENT -->
        <div class="content-area">
            <div class="axis-selector">
                <div class="axis-title" id="currentAxisTitle">IDENTITY AXIS</div>
                <div class="axis-label">INNER / OUTER</div>
            </div>

            <div class="phases-container" id="phasesContainer">
                <!-- SHED PHASE -->
                <div class="phase" data-phase="shed">
                    <div class="phase-header">
                        <div class="phase-title">SHED</div>
                        <div class="phase-subtitle">Remove excess Â· discard non-essential</div>
                    </div>
                    <div class="phase-content">
                        <div class="identity-column">
                            <div class="identity-text" id="identityShed">IDENTITY</div>
                            <div class="time-label">T-1 PAST</div>
                        </div>
                        <div class="cards-grid">
                            <div class="card" data-type="INNER" onclick="toggleCard(this)">
                                <div class="card-header">
                                    <div class="card-title">INSTINCT</div>
                                    <div class="card-label">INNER</div>
                                </div>
                                <div class="card-main" id="shedInnerMain">Eliminate Current Emotional Noise</div>
                                <div class="card-detail">
                                    <div class="bullet"></div>
                                    <span id="shedInnerTarget">Noise In Immediate Preference</span>
                                </div>
                                <div class="card-expanded-content">
                                    <div class="input-area">
                                        <textarea placeholder="Reflect on this element..."></textarea>
                                    </div>
                                </div>
                            </div>
                            <div class="card" data-type="OUTER" onclick="toggleCard(this)">
                                <div class="card-header">
                                    <div class="card-title">REASON</div>
                                    <div class="card-label">OUTER</div>
                                </div>
                                <div class="card-main" id="shedOuterMain">Decommission Current Unused Formalisms</div>
                                <div class="card-detail">
                                    <div class="bullet"></div>
                                    <span id="shedOuterTarget">Current Structural Excess</span>
                                </div>
                                <div class="card-expanded-content">
                                    <div class="input-area">
                                        <textarea placeholder="Reflect on this element..."></textarea>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- INTEGRATE PHASE -->
                <div class="phase" data-phase="integrate">
                    <div class="phase-header">
                        <div class="phase-title">INTEGRATE</div>
                        <div class="phase-subtitle">Connect parts into patterns</div>
                    </div>
                    <div class="phase-content">
                        <div class="identity-column">
                            <div class="identity-text" id="identityIntegrate">IDENTITY</div>
                            <div class="time-label">T0 PRESENT</div>
                        </div>
                        <div class="cards-grid">
                            <div class="card" data-type="INNER" onclick="toggleCard(this)">
                                <div class="card-header">
                                    <div class="card-title">INSTINCT</div>
                                    <div class="card-label">INNER</div>
                                </div>
                                <div class="card-main" id="integrateInnerMain">Align Instinct to Conscious Goals</div>
                                <div class="card-detail">
                                    <div class="bullet"></div>
                                    <span id="integrateInnerTarget">Directional Clarity</span>
                                </div>
                                <div class="card-expanded-content">
                                    <div class="input-area">
                                        <textarea placeholder="Reflect on this element..."></textarea>
                                    </div>
                                </div>
                            </div>
                            <div class="card" data-type="OUTER" onclick="toggleCard(this)">
                                <div class="card-header">
                                    <div class="card-title">REASON</div>
                                    <div class="card-label">OUTER</div>
                                </div>
                                <div class="card-main" id="integrateOuterMain">Link Reason to External Feedback</div>
                                <div class="card-detail">
                                    <div class="bullet"></div>
                                    <span id="integrateOuterTarget">Environmental Input</span>
                                </div>
                                <div class="card-expanded-content">
                                    <div class="input-area">
                                        <textarea placeholder="Reflect on this element..."></textarea>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- GROUND PHASE -->
                <div class="phase" data-phase="ground">
                    <div class="phase-header">
                        <div class="phase-title">GROUND</div>
                        <div class="phase-subtitle">Stabilize patterns into order</div>
                    </div>
                    <div class="phase-content">
                        <div class="identity-column">
                            <div class="identity-text" id="identityGround">IDENTITY</div>
                            <div class="time-label">T+1 NEXT</div>
                        </div>
                        <div class="cards-grid">
                            <div class="card" data-type="INNER" onclick="toggleCard(this)">
                                <div class="card-header">
                                    <div class="card-title">INSTINCT</div>
                                    <div class="card-label">INNER</div>
                                </div>
                                <div class="card-main" id="groundInnerMain">Commit Core Value to Present Action</div>
                                <div class="card-detail">
                                    <div class="bullet"></div>
                                    <span id="groundInnerTarget">Stable Instinct</span>
                                </div>
                                <div class="card-expanded-content">
                                    <div class="input-area">
                                        <textarea placeholder="Reflect on this element..."></textarea>
                                    </div>
                                </div>
                            </div>
                            <div class="card" data-type="OUTER" onclick="toggleCard(this)">
                                <div class="card-header">
                                    <div class="card-title">REASON</div>
                                    <div class="card-label">OUTER</div>
                                </div>
                                <div class="card-main" id="groundOuterMain">Formalize Principle Into Present Use</div>
                                <div class="card-detail">
                                    <div class="bullet"></div>
                                    <span id="groundOuterTarget">Structural Logic</span>
                                </div>
                                <div class="card-expanded-content">
                                    <div class="input-area">
                                        <textarea placeholder="Reflect on this element..."></textarea>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- RIGHT ALLEY - INNER/OUTER CONTROLS -->
        <div class="alley alley-right">
            <div class="control-surface" onclick="filterType('INNER')" data-type="INNER">INNER</div>
            <div class="control-surface" onclick="filterType('OUTER')" data-type="OUTER">OUTER</div>
            <div class="control-surface" onclick="filterType('ALL')" data-type="ALL">BOTH</div>
            
            <div class="control-spacer"></div>
            
            <div class="control-surface" onclick="filterPhase('shed')" data-phase="shed">SHED</div>
            <div class="control-surface" onclick="filterPhase('integrate')" data-phase="integrate">INT</div>
            <div class="control-surface" onclick="filterPhase('ground')" data-phase="ground">GRD</div>
        </div>
    </div>

    <script>
        const FLOW = {
            IDENTITY: {
                SHED: { INNER: 'Eliminate Current Emotional Noise', TGT_INNER: 'Noise In Immediate Preference',
                       OUTER: 'Decommission Current Unused Formalisms', TGT_OUTER: 'Current Structural Excess' },
                INTEGRATE: { INNER: 'Align Instinct to Conscious Goals', TGT_INNER: 'Directional Clarity',
                            OUTER: 'Link Reason to External Feedback', TGT_OUTER: 'Environmental Input' },
                GROUND: { INNER: 'Commit Core Value to Present Action', TGT_INNER: 'Stable Instinct',
                         OUTER: 'Formalize Principle Into Present Use', TGT_OUTER: 'Structural Logic' }
            },
            EXPERIENCE: {
                SHED: { INNER: 'Reduce Current Sensory Noise', TGT_INNER: 'Ephemeral Phenomena',
                       OUTER: 'Reject Hidden Redundancy', TGT_OUTER: 'Nonâ€‘Essential Inferences' },
                INTEGRATE: { INNER: 'Map Seen to Underlying Structure', TGT_INNER: 'Unseen Dynamics',
                            OUTER: 'Verify Unseen to Current Seen Phenomena', TGT_OUTER: 'Realâ€‘Time Evidence' },
                GROUND: { INNER: 'Apply Observation Protocol to Present', TGT_INNER: 'Current Senses',
                         OUTER: 'Standardize Inference Method', TGT_OUTER: 'Stable Inference' }
            },
            LANGUAGE: {
                SHED: { INNER: 'Sharpen Units Of Current Meaning', TGT_INNER: 'Unnecessary Ideas',
                       OUTER: 'Dismantle Current Group Ideology', TGT_OUTER: 'Obsolete Guiding System' },
                INTEGRATE: { INNER: 'Synthesize Ideas to Coherent Patterns', TGT_INNER: 'Systematic Meaning',
                            OUTER: 'Connect New Ideas to Guiding Narrative', TGT_OUTER: 'System Cohesion' },
                GROUND: { INNER: 'Document Concept For Present Use', TGT_INNER: 'Fixed Vocabulary',
                         OUTER: 'Formalize Narrative Into Shared Beliefs', TGT_OUTER: 'Current Shared Beliefs' }
            },
            DOMAIN: {
                SHED: { INNER: 'Cultivate New Origin Points', TGT_INNER: 'Current Source Dependence',
                       OUTER: 'Discard Unnecessary Action Assets', TGT_OUTER: 'Current Inventory Excess' },
                INTEGRATE: { INNER: 'Establish Source to Resource Flow', TGT_INNER: 'Usable Assets',
                            OUTER: 'Optimize Resource to Goal Vector', TGT_OUTER: 'Purposeful Action' },
                GROUND: { INNER: 'Sustain Source For Present Use', TGT_INNER: 'Perpetual Origin',
                         OUTER: 'Secure Asset Base For Present', TGT_OUTER: 'Fixed Assets' }
            },
            PURPOSE: {
                SHED: { INNER: 'Purify Current Emotional Drive', TGT_INNER: 'Emotional Drive',
                       OUTER: 'Deâ€‘Clutter Current Strategic Noise', TGT_OUTER: 'Strategic Noise' },
                INTEGRATE: { INNER: 'Harmonize Heart to Head Clarity', TGT_INNER: 'Cognitive System',
                            OUTER: 'Adjust Head to Heart Direction', TGT_OUTER: 'Emotional Alignment' },
                GROUND: { INNER: 'Execute Chosen Goal With Full Commit', TGT_INNER: 'Affective Center',
                         OUTER: 'Implement Strategy Into Formal Plan', TGT_OUTER: 'Cognitive Plan' }
            },
            ORDER: {
                SHED: { INNER: 'Isolate Redundant Current Parts', TGT_INNER: 'Individual Components',
                       OUTER: 'Restructure Current Systemic Arrangement', TGT_OUTER: 'Obsolete Structure' },
                INTEGRATE: { INNER: 'Combine Parts to Coherent Whole', TGT_INNER: 'System Assembly',
                            OUTER: 'Integrate Whole to New Patterns', TGT_OUTER: 'Constituent Parts' },
                GROUND: { INNER: 'Stabilize Arrangement Into Fixed State', TGT_INNER: 'Fixed Components',
                         OUTER: 'Institutionalize Order Into Function', TGT_OUTER: 'Functioning System' }
            }
        };

        let currentAxis = 'IDENTITY';
        let activeFilters = { type: null, phase: null };
        let isSideBySide = false;

        function loadContent() {
            const data = FLOW[currentAxis];
            
            // Update identity labels
            document.getElementById('identityShed').textContent = currentAxis;
            document.getElementById('identityIntegrate').textContent = currentAxis;
            document.getElementById('identityGround').textContent = currentAxis;
            
            // Update SHED content
            document.getElementById('shedInnerMain').textContent = data.SHED.INNER;
            document.getElementById('shedInnerTarget').textContent = data.SHED.TGT_INNER;
            document.getElementById('shedOuterMain').textContent = data.SHED.OUTER;
            document.getElementById('shedOuterTarget').textContent = data.SHED.TGT_OUTER;
            
            // Update INTEGRATE content
            document.getElementById('integrateInnerMain').textContent = data.INTEGRATE.INNER;
            document.getElementById('integrateInnerTarget').textContent = data.INTEGRATE.TGT_INNER;
            document.getElementById('integrateOuterMain').textContent = data.INTEGRATE.OUTER;
            document.getElementById('integrateOuterTarget').textContent = data.INTEGRATE.TGT_OUTER;
            
            // Update GROUND content
            document.getElementById('groundInnerMain').textContent = data.GROUND.INNER;
            document.getElementById('groundInnerTarget').textContent = data.GROUND.TGT_INNER;
            document.getElementById('groundOuterMain').textContent = data.GROUND.OUTER;
            document.getElementById('groundOuterTarget').textContent = data.GROUND.TGT_OUTER;
        }

        function switchAxis(axis) {
            currentAxis = axis;
            document.getElementById('currentAxisTitle').textContent = axis + ' AXIS';
            
            document.querySelectorAll('[data-axis]').forEach(btn => btn.classList.remove('active'));
            document.querySelector(`[data-axis="${axis}"]`).classList.add('active');
            
            loadContent();
        }

        function toggleCard(card) {
            const wasExpanded = card.classList.contains('expanded');
            document.querySelectorAll('.card').forEach(c => c.classList.remove('expanded'));
            if (!wasExpanded) card.classList.add('expanded');
        }

        function filterType(type) {
            activeFilters.type = activeFilters.type === type ? null : type;
            
            document.querySelectorAll('.alley-right [data-type]').forEach(btn => btn.classList.remove('active'));
            if (activeFilters.type) {
                document.querySelector(`.alley-right [data-type="${type}"]`).classList.add('active');
            }
            
            applyFilters();
        }

        function filterPhase(phase) {
            activeFilters.phase = activeFilters.phase === phase ? null : phase;
            
            document.querySelectorAll('.alley-right [data-phase]').forEach(btn => btn.classList.remove('active'));
            if (activeFilters.phase) {
                document.querySelector(`.alley-right [data-phase="${phase}"]`).classList.add('active');
            }
            
            applyFilters();
        }

        function applyFilters() {
            document.querySelectorAll('.phase').forEach(phase => {
                const shouldShowPhase = !activeFilters.phase || phase.dataset.phase === activeFilters.phase;
                phase.classList.toggle('hidden', !shouldShowPhase);
            });
            
            document.querySelectorAll('.card').forEach(card => {
                const shouldShowCard = !activeFilters.type || activeFilters.type === 'ALL' || card.dataset.type === activeFilters.type;
                card.classList.toggle('hidden', !shouldShowCard);
            });
        }

        function toggleLayout() {
            isSideBySide = !isSideBySide;
            document.getElementById('phasesContainer').classList.toggle('side-by-side', isSideBySide);
        }

        function resetAll() {
            activeFilters = { type: null, phase: null };
            document.querySelectorAll('.control-surface').forEach(btn => {
                if (!btn.dataset.axis || btn.dataset.axis === 'IDENTITY') {
                    btn.classList.toggle('active', btn.dataset.axis === 'IDENTITY');
                } else {
                    btn.classList.remove('active');
                }
            });
            document.querySelectorAll('.phase, .card').forEach(el => el.classList.remove('hidden', 'expanded'));
            currentAxis = 'IDENTITY';
            document.getElementById('currentAxisTitle').textContent = 'IDENTITY AXIS';
            loadContent();
        }

        // Initialize
        loadContent();
    </script>
</body>
</html>